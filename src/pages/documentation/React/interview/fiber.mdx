# fiber

**性能瓶颈**

- js 任务执行的时间过长

  - 浏览器刷新的频率为 60Hz, 大概是 16.6ms 渲染一次，而 js 线程和渲染线程是互斥的，所以如果 js 线程执行的任务事件超过
    了 16.6ms 的话就会导致掉帧 页面出现卡顿。React 的解决方案就是利用浏览器的空闲时间来进行更新，
  - 将一个耗时的任务拆分成多个小任务，分布在每一帧里面， 这个就是时间切片

- 屏幕的刷新率

  - 目前大多数的设备屏幕刷新的频率都是每秒 60 次
  - 浏览器渲染动画和页面的每一帧速率也都是要跟设备屏幕的刷新率保持一致
  - 页面是一帧一帧的渲染出来的，当每秒绘制的帧数达到 60 的时候，页面是流畅的 当小雨 60 用户就会觉得卡顿
  - 所以每一个帧的时间大概是 16.6 毫秒

- 帧

  - 每一帧的开头包括样式计算、布局、绘制
  - 如果某个任务的时间过长，浏览器会推迟渲染

- 通过 fiber 架构可以使得调和的过程变得可中断。让出 cpu 的执行权

- fiber 是一种数据结构
